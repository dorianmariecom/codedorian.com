# Database connection pool configuration
# Note: Total connections = (WEB_CONCURRENCY * DATABASE_POOL) + (jobs process pool) + (push process pool)
# With current setup: (2 * 50) + 50 + 50 = 200 total connections
# Ensure PostgreSQL max_connections is set appropriately (typically 200-300)
DATABASE_POOL=50
RAILS_ENV=production
RAILS_MAX_THREADS=30
# SolidQueue thread counts - reduced to prevent connection pool exhaustion
# Each thread may require a database connection
SOLID_QUEUE_DEFAULT_THREADS=10
SOLID_QUEUE_EVALUATE_THREADS=10
SOLID_QUEUE_GENERATE_THREADS=10
SOLID_QUEUE_SCHEDULING_THREADS=10
SOLID_QUEUE_THREADS=10
WEB_CONCURRENCY=2
