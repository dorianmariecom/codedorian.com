#!/usr/bin/env ruby

require "yaml"

def sort_by_name(yaml)
  if yaml.is_a?(Array)
    yaml.sort_by do |yaml|
      if yaml.is_a?(Hash)
        yaml["name"].to_s
      else
        yaml.to_s
      end
    end.map do |yaml|
      sort_by_name(yaml)
    end
  elsif yaml.is_a?(Hash)
    yaml.to_h { |key, value| [sort_by_name(key), sort_by_name(value)] }
  else
    yaml
  end
end

yaml = YAML.safe_load_file("config/documentation.yml")
puts sort_by_name(yaml).to_yaml
